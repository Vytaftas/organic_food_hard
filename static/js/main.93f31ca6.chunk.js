(this.webpackJsonpibm_giphy=this.webpackJsonpibm_giphy||[]).push([[0],{23:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var i=c(0),n=c(1),s=c.n(n),a=c(17),r=c.n(a),o=(c(23),c(3)),l=c(4),u=c(7),j=c.n(u),m=function(e,t){var c=Object(n.useState)(!0),i=Object(o.a)(c,2),s=i[0],a=i[1],r=Object(n.useState)(!1),u=Object(o.a)(r,2),m=u[0],b=u[1],d=Object(n.useState)([]),p=Object(o.a)(d,2),O=p[0],f=p[1],g=Object(n.useState)(!1),h=Object(o.a)(g,2),v=h[0],x=h[1];return Object(n.useEffect)((function(){f([])}),[e]),Object(n.useEffect)((function(){var c;return a(!0),b(!1),j()({method:"GET",url:"https://".concat("api.giphy.com/v1/gifs/search","?api_key=").concat("U0EopUaNWby8hVDebUgVbo0NYqO6YBFF"),params:{q:e,limit:12,offset:t},cancelToken:new j.a.CancelToken((function(e){return c=e}))}).then((function(e){f((function(t){return Object(l.a)(new Set([].concat(Object(l.a)(t),Object(l.a)(e.data.data))))})),x(e.data.pagination.total_count-t>0),a(!1)})).catch((function(e){j.a.isCancel(e)||b(!0)})),function(){return c()}}),[e,t]),{loading:s,error:m,items:O,hasMore:v}},b=function(e){var t=e.title,c=e.img,n=e.orgImg;return Object(i.jsxs)("div",{className:"item",onClick:function(){console.log(t,c,n);var e=document.querySelector(".popup-container"),i=document.querySelector(".popup-container-img-src");document.querySelector(".popup-container-close").addEventListener("click",(function(){e.classList.remove("visible"),setTimeout((function(){e.classList.remove("display")}),500)})),i.src=n,i.alt=t,e.classList.add("display"),setTimeout((function(){e.classList.add("visible")}),100)},children:[Object(i.jsx)("p",{className:"item-text",children:t}),Object(i.jsx)("img",{className:"item-img",src:c,alt:t})]})},d=function(){return Object(i.jsx)("div",{className:"popup-container",children:Object(i.jsxs)("div",{className:"popup-container-img",children:[Object(i.jsx)("div",{className:"popup-container-close",children:Object(i.jsx)("i",{className:"far fa-times-circle"})}),Object(i.jsx)("img",{className:"popup-container-img-src",src:"",alt:""})]})})},p=function(e){var t=e.stuff,c=Object(l.a)(t),n=c[0],s=c[1],a=c[2];return Object(i.jsx)("div",{className:"nav",children:Object(i.jsx)("div",{className:"search",children:Object(i.jsxs)("form",{className:"search-form",children:[Object(i.jsx)("input",{className:"search-bar",onChange:n,value:a,type:"text",placeholder:"Search.."}),Object(i.jsx)("button",{className:"search-btn",onClick:s,children:"Search"})]})})})},O=(c(42),function(){var e=Object(n.useState)("ibm"),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(0),r=Object(o.a)(a,2),l=r[0],u=r[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),f=O[0],g=O[1],h=m(c,l),v=h.items,x=h.hasMore,N=h.loading,y=h.error,S=Object(n.useRef)(),k=Object(n.useCallback)((function(e){N||(S.current&&S.current.disconnect(),S.current=new IntersectionObserver((function(e){e[0].isIntersecting&&x&&u((function(e){return e+12}))})),e&&S.current.observe(e))}),[N,x]),w=new RegExp(/^[a-zA-Z0-9 ]+$/);return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(p,{stuff:[function(e){g(e.target.value)},function(e){e.preventDefault(),w.test(f)?(u(1),s(f),g("")):console.log("Wrong input")},f]}),Object(i.jsxs)("div",{className:"item-container",children:[Object(i.jsx)(d,{}),v.map((function(e,t){return""!==e.title.trim()&&void 0!==e.title&&null!==e.title||(e.title="".concat(c)),v.length===t+1?Object(i.jsxs)("div",{ref:k,className:"item",children:[Object(i.jsx)("p",{className:"item-text",children:e.title}),Object(i.jsx)("img",{className:"item-img",src:e.images.downsized.url,alt:e.title})]},e.id):Object(i.jsx)(b,{title:e.title,img:e.images.downsized.url,orgImg:e.images.original.url},e.id)})),N&&Object(i.jsx)(b,{title:"Loading",img:"https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif"},"item.id"),y&&Object(i.jsx)("div",{className:"item",children:Object(i.jsx)("p",{children:"Error!"})})]})]})});r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.93f31ca6.chunk.js.map